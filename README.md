# Constraint Canvas
基于微分学的图形排布工具。用户通过绘制多边形，并提出对多边形“重合”“不重合”的需求，Constraint Canvas 会基于梯度下降的方式将多边形平移，生成用户需求的排布。

### 本地构建
1. 克隆本项目，进入项目目录。
2. 使用 `npm install` 安装依赖。
3. 运行 `npx vite build` 进行网页构建，构建文件会写入 `dist` 目录。
4. 部署 `dist` 目录中的文件。下面提供了两种常见的轻量级部署方式：
   - 使用 Python 部署：执行 `python -m http.server <port>`。将 `<port>` 替换为目标端口。
   - 使用 http-server 部署：通过 `npm install -g http-server` 全局安装 http-server，执行 `http-server -p <port> -g` 启动服务器。将 `<port>` 替换为目标端口。
5. 部署完成后，使用浏览器访问 `http://localhost:<port>`。

### 使用方法
#### 绘制多边形
点击 `New Polygon` 按钮开始绘制多边形，在画布上点按即可绘制。再次点按该按钮完成绘制。注意：输入多边形须为**简单多边形**。

完成绘制后，画布会为多边形分配编号，在右侧列表上可以点击编号，左侧画布上对应多边形会闪烁。

#### 输入排布方案
在 `Do not overlap` 输入框输入希望不重合的多边形编号，格式为：`[[关系 1], [关系 2], [关系 3]]`，例如 `[[0, 1], [1, 2]]` 表示希望 `多边形 0` 与 `多边形 1`不重合，`多边形 1` 与 `多边形 2` 不重合。

在 `Overlap` 输入框输入希望重合的多边形编号，格式与 `Do not overlap` 相同。

在 `Fix` 输入框输入希望固定住的多边形编号，格式为：`[编号, 编号, 编号]`，例如 `[0, 1]` 表示 `多边形 0` 与 `多边形 1` 在操作过程中不被移动。

#### 执行排布
完成前两步后点击 `Process` 即可在画布上按需求生成对多边形的排布。